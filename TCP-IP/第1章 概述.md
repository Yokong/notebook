有效沟通取决于使用共同语言。这一观点对于人类，动物以及计算机而言都是适用的。

当一种语言用于一组行为时，需要使用一种协议。

根据《新牛津美国辞典》，对协议的第一定义是：

>国家事务或外交场合的正式程序或规则系统。

一系列相关协议的集合称为一个协议族。指定一个协议族中各种协议之间的相互关系并划分需要完成的任务的设计，称为协议族的体系结构或参考模型。

TCP/IP是一个实现Internet体系结构的协议族，它来源于ARPANET（高级研究计划局网络）参考模型（ARM）[RFC0871]。

TCP/IP体系结构来源于实际工作，用于满足多种不同的分组交换计算机网络的互联需求[CK74]。这由一级网关（后来称为路由器）来实现，网关可以在互不兼容的网络之间提供翻译功能。 

## *设计一个体系结构更多的是艺术而不是科学*
## 1.2.1 分层
通过分层，每层只负责通信的一个方面。采用多层是有益的，这是因为分层设计允许开发人员分别实现系统的不同部分，它们通常由在不同领域的专业人员完成。

最常提到的协议分层概念基于一个称为开放系统互连标准（OSI）的模型。

![图片](https://uploader.shimo.im/f/MuhoRkXQ13QTSrtC.png!thumbnail)

##  1.2.2 分层实现中的复用，分解和封装
分层体系结构的一个主要优点是具有协议复用的能力。这种复用形式允许多种协议共存于同一基础设施中。

封装通常与分层一起使用。单纯的封装涉及获得某层的PDU，并在低层将它作为不透明数据来处理。封装发生在发送方，拆封发生在接收方。

## 1.3.1 ARPANET参考模型
它最终被TCP/IP协议族采纳。它的结构比OSI模型更简单，但在实现中包括一些特定协议，并且不适合于常规层次的简化。

ICMP是IP的一个辅助协议，IP层用它与其它主机或路由器的IP层之间交换差错消息和其他重要信息。

虽然ICMP主要由IP使用，但它也能被其他应用使用。两个流行的诊断工具（ping和traceroute）都使用ICMP。ICMP消息被封装在IP数据报中，采用与传输层PDU相同的封装方式。

广泛使用的传输控制协议（TCP）会处理数据包丢失，重复和重新排序等IP层不处理的问题。

它采用面向连接（VC）的方式，并且不保留消息边界。相反，用户数据报协议（UDP）仅提供比IP协议稍多的功能。

## TCP在两台主机之间提供可靠的数据流传输。
应用层与应用的细节有关，但与网络中的数据传输无关。较低的三层则相反：它们对具体应用一无所知，但需要处理所有的通信细节。

## 1.3.2 TCP/IP中的复用，分解和封装
![图片](https://uploader.shimo.im/f/rQLBy1X12Y0q1HHd.png!thumbnail)

TCP/IP协议栈将地址信息和协议分解标识符相结合，以决定一个数据报是否被正确接收，以及哪个实体将会处理该数据报。有几层还会检测数值（例如校验和），以保证内容在传输中没有损坏

以太网帧包含一个48位的目的地址（又称为链路层或介质访问控制（MAC）地址）和一个16位的以太网类型字段。0x0800表示这个帧包含IPv4数据报。0x0806和0x86DD分别表示ARP和IPv6。

## 1.3.3 端口号
端口号是16位的非负整数（范围是0 - 65535）。

## 1.4 Internet，内联网和外联网
Internet已发展成为由很多网络互联起来的网络集合。

小写字母开头的internet表示使用常见协议族互联的多个网络。大写字母开头的Internet表示可使用TCP/IP通信的世界范围的主机集合。Internet是一个internet，但反过来说是错误的。

内联网提供的访问资源只供特定企业的成员使用。

## 1.6 标准化进程
>刚接触TCP/IP协议族的新手通常不了解负责各种协议的制定和标准化，以及它们如何运作。有些组织负责解决这个问题。我们最常关注的组织是Internet工程任务级（IETF）[RFC4677]

RFC：Internet社会中的每个官方标准都以一个RFC（征求意见）的形式发布。RFC可以通过多种方式创建，不是所有RFC都是标准，只有标准跟踪类别的RFC被认为是官方标准。

IEEE：电气和电子工程师学会，关注第3层以下标准（例如Wi-Fi和以太网）

W3C：万维网联盟，关注应用层协议，特别是那些涉及Web的技术（HTML）

